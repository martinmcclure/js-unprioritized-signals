/*

 JS Unprioritized Signals <https://github.com/martinmcclure/js-unprioritized-signals/>
 Released under the MIT license
 Author: Martin McClure, Miller Medeiros
 Version: 1.0.2 - Build: 279 (2020/02/13 04:03 PM)
*/
(function(j){function i(a,b,c,d,e){this._listener=b;this._isOnce=c;this.context=d;this._signal=a;this._priority=e||0}function h(a,b){if(typeof a!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function f(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){f.prototype.dispatch.apply(a,arguments)}}i.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
", isBound:"+this.isBound()+", active:"+this.active+"]"}};f.prototype={VERSION:"1.0.2",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,b,c,d){a=new i(this,a,b,c,d);this._addBinding(a);this.memorize&&this._prevParams&&a.execute(this._prevParams);return a},_addBinding:function(a){this._bindings.push(a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,d;c--;)if(d=this._bindings[c],d._listener===a&&d.context===b)return c;return-1},has:function(a,b){return this._indexOfListener(a,
b)!==-1},add:function(a,b,c){h(a,"add");return this._registerListener(a,!1,b,c)},addOnce:function(a,b,c){h(a,"addOnce");return this._registerListener(a,!0,b,c)},remove:function(a,b){h(a,"remove");var c=this._indexOfListener(a,b);c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=
!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;if(this.memorize)this._prevParams=b;if(c){d=this._bindings.slice();this._shouldPropagate=!0;for(var e=0;e<c;e++)if(!(this._shouldPropagate&&d[e].execute(b)!==!1))break}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+
"]"}};var g=f;g.Signal=f;typeof define==="function"&&define.amd?define(function(){return g}):typeof module!=="undefined"&&module.exports?module.exports=g:j.signals=g})(this);